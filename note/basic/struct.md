# 構造体
- 複数の値をまとめて扱うための型
- 構造体のフィールドには、様々な型を指定できる
- 構造体名は、キャメルケースで定義する
- 構造体の場合は`*`をつけなくても、フィールドにアクセスできる


## 構造体の定義
```go
type 構造体名 struct {
    フィールド名 型
    フィールド名 型
}
```

## 構造体の初期化
- 構造体のフィールド名を指定して初期化する
```go
変数 := 構造体名(フィールド名: 値, フィールド名: 値)
// or
// デフォルトでフィールド名が指定されている場合は、フィールド名を省略できる
var 変数名 構造体名

// newを使った初期化（return *構造体型）
変数 := new(構造体名)
// NOTE:上記だとpointerを返すとわかりずらいので、下記のように書くことが多い
変数 := &構造体名{}
```

## 無名構造体
- 構造体のフィールド名を指定せずに初期化する
- 一度しか使わない場合は、無名構造体を使う
```go
変数 := struct {
    フィールド名 型
    フィールド名 型
}{フィールド名: 値, フィールド名: 値}
```

## メソッド
- 構造体に関数を定義することができる
- レシーバーを指定することで、構造体のフィールドにアクセスできる

### 値レシーバー
- 値レシーバーを使うことで、構造体のフィールドを変更できない
```go
func (レシーバー 構造体名) メソッド名(引数 引数の型, 引数 引数の型) 戻り値の型 {
    処理
    return 戻り値
}
```

### ポインタレシーバー
- ポインタレシーバーを使うことで、構造体のフィールドを変更できる
- なので、値を書き換えたい場合は、ポインタレシーバーを使う
```go
func (レシーバー *構造体名) メソッド名(引数 引数の型, 引数 引数の型) 戻り値の型 {
    処理
    return 戻り値
}
```



## コンストラクタ
- 構造体を初期化する関数
- 構造体名をキャメルケースで定義する
- 構造体のフィールド名は、キャメルケースで定義する
- コンストラクタの関数名は、New構造体名とする
- コンストラクタの戻り値は、構造体のポインタ型とする

### 定義
```go
func New構造体名(引数 引数の型, 引数 引数の型) *構造体名 {
    return &構造体名{フィールド名: 値, フィールド名: 値}
}
```
### 呼び出し
```go
変数 := New構造体名(引数, 引数)
```

## Embedding(埋め込み)
- 構造体のフィールドに構造体を指定することができる
- その場合、構造体名を指定しないで、フィールド名だけでアクセスできる

### 定義
```go
type 構造体名 struct {
    フィールド名 型
    フィールド名 型
}

type 構造体名 struct {
    構造体名
    フィールド名 型
}
```
### 呼び出し
```go
変数 := 構造体名{構造体{値, 値}, フィールド名: 値}
```

## non-struct(非構造体)
- 構造体以外の型にもメソッドを定義することができる
- レシーバーを指定することで、構造体のフィールドにアクセスできる
```go
type 型名 型

func (レシーバー 型名) メソッド名(引数 引数の型, 引数 引数の型) 戻り値の型 {
    処理
    return 戻り値
}
```
